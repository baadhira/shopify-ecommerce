{% extends 'baseuser.html' %}
{% load crispy_forms_tags %}
{% block content %}
<!-- content -->
<div class="content container">

    <div class="buyer-profile-cover bg-image mb-4" data-image="../../assets/images/profile-bg.jpg">
        <div
            class="container d-flex align-items-center justify-content-center h-100 flex-column flex-md-row text-center text-md-start">
            
            <div class="ms-md-auto">
                <a href="{% url 'addaddressprofile' %}" class="btn btn-primary btn-lg btn-icon">
                    <i class="bi bi-pencil small"></i> Add Address
                </a>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <ul class="nav nav-pills flex-column gap-2">
                        <li class="nav-item">
                            <a class="nav-link " href="{% url 'userprofilehome' %}">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " href="{% url 'userorderlist' %}">My Orders</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link  active " href="">My Addresses</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " href="{% url 'wishlist' %}">Wishlist</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-9">

            <div class="row g-4 mb-4">
                {% for i in address %}
                <div class="col-md-6 col-sm-12">
                    <div class="card">
                        <div class="card-body d-flex flex-column gap-3">
                            <div class="d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">{{i.type}}</h5>

                                <a href="{% url 'editaddress' i.id %}"><button
                                        class="btn btn-outline-success m-2">Edit</button></a>
                                <a class="delete_cat btn btn-outline-danger m-2" data-id="{{i.id}}">Delete</a>

                            </div>
                            <div>{{i.first_name}}</div>
                            <div>{{i.address_lane_1}}</div>
                            <div>{{i.city}}</div>
                            <div>{{i.district}}</div>
                            <div>{{i.pincode}}</div>
                            <div>
                                <i class="bi bi-telephone me-2"></i> 408-963-7769
                            </div>

                        </div>
                    </div>
                </div>
                {% endfor %}
                <!-- <div class="col-md-6 col-sm-12">
            <div class="card">
                <div class="card-body d-flex flex-column gap-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Home</h5>
                        <a href="#">Edit</a>
                    </div>
                    <div>Josephin Villa</div>
                    <div>81 Fulton Park, Brazil/Pedro Leopoldo</div>
                    <div>
                        <i class="bi bi-telephone me-2"></i> 408-963-7769
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-sm-12">
            <div class="card">
                <div class="card-body d-flex flex-column gap-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Home</h5>
                        <a href="#">Edit</a>
                    </div>
                    <div>Josephin Villa</div>
                    <div>81 Fulton Park, Brazil/Pedro Leopoldo</div>
                    <div>
                        <i class="bi bi-telephone me-2"></i> 408-963-7769
                    </div>
                </div>
            </div>
        </div> -->
                <!-- <div class="col-md-6 col-sm-12">
            <div class="card">
                <div class="card-body d-flex flex-column gap-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Workplace</h5>
                        <a href="#">Edit</a>
                    </div>
                    <div>Josephin Villa</div>
                    <div>29543 South Plaza, Canada/Sydney Mines</div>
                    <div>
                        <i class="bi bi-telephone me-2"></i> 484-948-8535
                    </div>
                </div>
            </div>
        </div> -->
            </div>

        </div>
    </div>

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>

    $('.delete_cat').on('click', function (e) {

        var id = $(this).data('id')
        data = {
            'id': id,
        }
        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes!'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = '/deleteaddress/' + id;

            }
        })

    });


</script>
<!-- ./ content -->
{% endblock %}