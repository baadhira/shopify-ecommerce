{% extends 'baseuser.html' %}
{% load static %}
{% block content %}
<header class="header navbar-area">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 col-md-6 col-12">
                <div class="nav-inner">

                    <div class="mega-category-menu">
                        <span class="cat-button"><i class="lni
                                    lni-menu"></i>All Categories</span>
                        <ul class="sub-category">
                            {% for category in catogeries %}
                            
                            <li><a href="{% url 'FilterView' category.id %}" value="{{category.id}}">{{category.category_name}}({{category.numpro}})</a></li>
                            {% endfor %}
                            
                        </ul>
                    </div>


                    <nav class="navbar navbar-expand-lg">
                        <button class="navbar-toggler mobile-menu-btn" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle
                                navigation">
                            <span class="toggler-icon"></span>
                            <span class="toggler-icon"></span>
                            <span class="toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse
                                sub-menu-bar" id="navbarSupportedContent">
                            <ul id="nav" class="navbar-nav ms-auto">
                                <li class="nav-item">
                                    <a href="{% url 'userpage' %}" class="active" aria-label="Toggle navigation">Home</a>
                                </li>
                               
                                <li class="nav-item">
                                    <a class="dd-menu collapsed" href="javascript:void(0)" data-bs-toggle="collapse"
                                        data-bs-target="#submenu-1-3" aria-controls="navbarSupportedContent"
                                        aria-expanded="false" aria-label="Toggle navigation">Shop</a>
                                    <ul class="sub-menu collapse" id="submenu-1-3">
                                        <li class="nav-item"><a href="{% url 'userproductgrid' %}">Shop
                                                Grid</a></li>
                                        
                                        
                                    </ul>
                                </li>
                                
                                <li class="nav-item">
                                    <a href="{% url 'contacts' %}" aria-label="Toggle navigation">Contact
                                        Us</a>
                                </li>
                            </ul>
                        </div>
                    </nav>

                </div>
            </div>
           
        </div>
    </div>
</header>
<section class="hero-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-12 custom-padding-right">
                <div class="slider-head">

                    <div class="hero-slider">

                        {% for banner in banners %}
                        <div class="single-slider"
                            style="background-image: url('{{banner.banner_image.url}}');">
                            <div class="content">
                                <h2>
                                    Innovation for Simplifying Lifestyles
                                </h2>
                                <p>Add convenience to your lifestyle with our wide range of innovative products</p>
                                <!-- <h3><span>Now Only</span> $320.99</h3> -->
                                <div class="button">
                                    <a href="{% url 'userproductgrid' %}"
                                        class="btn">Shop Now</a>
                                </div>
                            </div>
                        </div>
                        {% endfor %}


                        

                    </div>

                </div>
            </div>
            <div class="col-lg-4 col-12">
                
                </div> 
            </div>
        </div>
    </div>
</section>


<section class="featured-categories section">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title">
                    <h2>Featured Categories</h2>
                    <p>The all-in-one commerce platform to start, run, and grow a business.</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-6 col-12">

                <div class="single-category">
                    <h3 class="heading">TV & Audios</h3>
                    <ul>
                        <li><a href="{% url 'userproductgrid' %}">Smart
                                Television</a></li>
                        <li><a href="{% url 'userproductgrid' %}">QLED TV</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Audios</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Headphones</a></li>
                        <li><a href="{% url 'userproductgrid' %}">View All</a></li>
                    </ul>
                    <div class="images">
                        <img
                            src="{% static 'user/images/featured-categories/fetured-item-1.png' %}"
                            alt="#">
                    </div>
                </div>

            </div>
            <div class="col-lg-4 col-md-6 col-12">

                <div class="single-category">
                    <h3 class="heading">Desktop & Laptop</h3>
                    <ul>
                        <li><a href="{% url 'userproductgrid' %}">Smart
                                Television</a></li>
                        <li><a href="{% url 'userproductgrid' %}">QLED TV</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Audios</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Headphones</a></li>
                        <li><a href="{% url 'userproductgrid' %}">View All</a></li>
                    </ul>
                    <div class="images">
                        <img src="{% static 'user/images/featured-categories/fetured-item-2.png' %}" alt="#">
                    </div>
                </div>

            </div>
            <div class="col-lg-4 col-md-6 col-12">

                <div class="single-category">
                    <h3 class="heading">Cctv Camera</h3>
                    <ul>
                        <li><a href="{% url 'userproductgrid' %}">Smart
                                Television</a></li>
                        <li><a href="{% url 'userproductgrid' %}">QLED TV</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Audios</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Headphones</a></li>
                        <li><a href="{% url 'userproductgrid' %}">View All</a></li>
                    </ul>
                    <div class="images">
                        <img src="{% static 'user/images/featured-categories/fetured-item-3.png' %}" alt="#">
                    </div>
                </div>

            </div>
            <div class="col-lg-4 col-md-6 col-12">

                <div class="single-category">
                    <h3 class="heading">Dslr Camera</h3>
                    <ul>
                        <li><a href="{% url 'userproductgrid' %}">Smart
                                Television</a></li>
                        <li><a href="{% url 'userproductgrid' %}">QLED TV</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Audios</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Headphones</a></li>
                        <li><a href="{% url 'userproductgrid' %}">View All</a></li>
                    </ul>
                    <div class="images">
                        <img src="{% static 'user/images/featured-categories/fetured-item-4.png' %}" alt="#">
                    </div>
                </div>

            </div>
            <div class="col-lg-4 col-md-6 col-12">

                <div class="single-category">
                    <h3 class="heading">Smart Phones</h3>
                    <ul>
                        <li><a href="{% url 'userproductgrid' %}">Smart
                                Television</a></li>
                        <li><a href="{% url 'userproductgrid' %}">QLED TV</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Audios</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Headphones</a></li>
                        <li><a href="{% url 'userproductgrid' %}">View All</a></li>
                    </ul>
                    <div class="images">
                        <img src="{% static 'user/images/featured-categories/fetured-item-5.png' %}" alt="#">
                    </div>
                </div>

            </div>
            <div class="col-lg-4 col-md-6 col-12">

                <div class="single-category">
                    <h3 class="heading">Game Console</h3>
                    <ul>
                        <li><a href="{% url 'userproductgrid' %}">Smart
                                Television</a></li>
                        <li><a href="{% url 'userproductgrid' %}">QLED TV</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Audios</a></li>
                        <li><a href="{% url 'userproductgrid' %}">Headphones</a></li>
                        <li><a href="{% url 'userproductgrid' %}">View All</a></li>
                    </ul>
                    <div class="images">
                        <img src="{% static 'user/images/featured-categories/fetured-item-6.png' %}" alt="#">
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>


<section class="trending-product section">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title">
                    <h2>Trending Product</h2>
                    
                </div>
            </div>
        </div>
        <div class="row">
           
            {% for i in products|slice:":8" %}
            <div class="col-lg-3 col-md-6 col-12">

                <div class="single-product">
                    <div class="product-image">
                        {% if i.product_image1 %}
                            <img src="{{i.product_image1.url}}" >
                          
                            
                            {% if i.discount_percentage %}
                            <span class="sale-tag">{{i.discount_percentage}}%</span>
                            {% endif %}
                            
                        {% endif %}

                       
                        <div class="text-center m-2">
                            
                          
                            <a href="{% url 'userproductdetails' i.id %}" class="btn btn-primary btn-sm m-1">  View Details</a>
                           <!-- <button class="btn btn-primary btn-sm m-1"  id="hmAddtoWishlistBtn"  onclick="wishList('{{i.id}}')" >  <i class="fa fa-heart" ></i>  Add to Wish    </button> -->
                           {% if i.id in p %}
                            <button class="btn btn-primary btn-sm m-1"  id="removewishlist"  onclick="removeWishItem('{{i.id}}')" >  <i class="fa fa-heart" ></i>   In Wish   </button>
                            {% else %}
                            <button class="btn btn-primary btn-sm m-1"  id="hmAddtoWishlistBtn"  onclick="wishList('{{i.id}}')" >  <i class="fa fa-heart" ></i>  Add to Wish    </button>
                            {% endif %}
                            
                          
                    
                        </div>
                       
                    </div>
                    <div class="product-info">
                        <span class="category">{{i.category}}</span>
                        <h4 class="title">
                            <a href="{% url 'userproductdetails' i.id %}">{{i.product_name}}</a>
                        </h4>
                      
                        <div class="price">
                            {% if i.price < i.mrp_price and i.price > 0 %}
                            <span style="color : black;">₹{{i.price}}</span><span>&nbsp;</span><span style="text-decoration: line-through; color:#696969 ; font-size: 0.8rem;" >₹{{i.mrp_price}}</span>
                            
                            {% else %}
                            <span style="color : black;">₹{{i.mrp_price}}</span>
                            
                            {% endif %}
                        </div>
                    </div>
                </div>

            </div>
            {% endfor %}
          
        </div>
    </div>
</section>





<section class="special-offer section">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title">
                    <h2>Special Offer</h2>
                    
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-8 col-md-12 col-12">
                <div class="row">
                    {% for i in product_offer %}
                    <div class="col-lg-4 col-md-4 col-12">

                        <div class="single-product">
                            <div class="product-image">
                                <img src="{{i.product_id.product_image1.url}}"alt="#">
                                <span class="sale-tag">-{{i.discount}}%</span>
                                <div class="text-center m-2">
                                    <!-- <a href="product-details.html"
                                        class="btn"><i class="lni
                                            lni-cart"></i> Add to
                                        Cart</a> -->
                                        <a href="{% url 'userproductdetails' i.product_id.id %}" class="btn btn-primary btn-sm m-1">  View Details</a>

                                        <!-- {% if i.product_id.id in wishlist %}
                                        <p>{{wishlist.product_id}}</p>
                                        <button class="btn btn-primary btn-sm m-1"  id="hmAddtoWishlistBtn"  onclick="wishList('{{i.product_id.id}}')" >  <i class="fa fa-heart" ></i>  Add to Wish    </button>
                                        {% else %}
                                        <button class="btn btn-primary btn-sm m-1"  id="hmAddtoWishlistBtn"  onclick="removeWishItem('{{i.product_id.id}}')" >  <i class="fa fa-heart" ></i>  In Wish    </button>
                                        {% endif %} -->

                          {% if i.product_id.id in p %}
                            <button class="btn btn-primary btn-sm m-1"  id="removewishlist"  onclick="removeWishItem('{{i.product_id.id}}')" >  <i class="fa fa-heart" ></i>   In Wish   </button>
                            {% else %}
                            <button class="btn btn-primary btn-sm m-1"  id="hmAddtoWishlistBtn"  onclick="wishList('{{i.product_id.id}}')" >  <i class="fa fa-heart" ></i>  Add to Wish    </button>
                            {% endif %}
                                </div>
                            </div>
                            <div class="product-info">
                                <span class="category">{{i.product_id.category}}</span>
                                <h4 class="title">
                                    <a href="{% url 'userproductdetails' i.id %}">{{i.product_id.product_name}}</a>
                                </h4>
                                
                                <div class="price">
                                    <span>₹{{i.product_id.price}}</span>
                                </div>
                            </div>
                        </div>

                    </div>
                    {% endfor %}
                 
                </div>

              

            </div>
           
        </div>
    </div>
</section>



<div class="brands">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 offset-lg-3 col-md-12 col-12">
                <h2 class="title">Popular Brands</h2>
            </div>
        </div>
        <div class="brands-logo-wrapper">
            <div class="brands-logo-carousel d-flex align-items-center
                justify-content-between">
                <div class="brand-logo">
                    <img src="{% static 'user/images/brands/01.png' %}" alt="#">
                </div>
                <div class="brand-logo">
                    <img src="{% static 'user/images/brands/02.png' %}" alt="#">
                </div>
                <div class="brand-logo">
                    <img src="{% static 'user/images/brands/03.png' %}" alt="#">
                </div>
                <div class="brand-logo">
                    <img src="{% static 'user/images/brands/04.png' %}" alt="#">
                </div>
                <div class="brand-logo">
                    <img src="{% static 'user/images/brands/05.png' %}" alt="#">
                </div>
                <div class="brand-logo">
                    <img src="{% static 'user/images/brands/06.png' %}" alt="#">
                </div>
                <div class="brand-logo">
                    <img src="{% static 'user/images/brands/03.png' %}" alt="#">
                </div>
                <div class="brand-logo">
                    <img src="{% static 'user/images/brands/04.png' %}" alt="#">
                </div>
            </div>
        </div>
    </div>
</div>





<section class="shipping-info">
    <div class="container">
        <ul>

            <li>
                <div class="media-icon">
                    <i class="lni lni-delivery"></i>
                </div>
                <div class="media-body">
                    <h5>Free Shipping</h5>
                    <span>On order over ₹20,000</span>
                </div>
            </li>

            <li>
                <div class="media-icon">
                    <i class="lni lni-support"></i>
                </div>
                <div class="media-body">
                    <h5>24/7 Support.</h5>
                    <span>Live Chat Or Call.</span>
                </div>
            </li>

            <li>
                <div class="media-icon">
                    <i class="lni lni-credit-cards"></i>
                </div>
                <div class="media-body">
                    <h5>Online Payment.</h5>
                    <span>Secure Payment Services.</span>
                </div>
            </li>

            <li>
                <div class="media-icon">
                    <i class="lni lni-reload"></i>
                </div>
                <div class="media-body">
                    <h5>Easy Return.</h5>
                    <span>Hassle Free Shopping.</span>
                </div>
            </li>
        </ul>
    </div>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.6.1/toastify.js" integrity="sha512-MnKz2SbnWiXJ/e0lSfSzjaz9JjJXQNb2iykcZkEY2WOzgJIWVqJBFIIPidlCjak0iTH2bt2u1fHQ4pvKvBYy6Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.6.1/toastify.css" integrity="sha512-VSD3lcSci0foeRFRHWdYX4FaLvec89irh5+QAGc00j5AOdow2r5MFPhoPEYBUQdyarXwbzyJEO7Iko7+PnPuBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script>

    function wishList(id){  
        console.log("entered wishlist");      
        var data  = {'id': id,  "csrf_token": '{{csrf_token}}'} 
        console.log("entered wish func")
        $.ajax({
            url : "{% url 'add_wishlist'  %}",
            method: "POST",
            data : data,
            success : function(data){
                
                let msg = data.success
                let quantity = data.wish_items
                let errorMsg = data.error
                if(msg && quantity ){
                    window.location.reload();
                    Toastify({    
                        text: "Item added to wishlist",
                        duration: 3000,
                        style: {
                            background: "linear-gradient(to right, #696969 , #ffa500)",
                          }
                        }).showToast();
                        
                }else{
                    swal({
                        position :'top-end',
                        icon: "error",
                        text: "you must be logged in to add products to whishlist",
                        timer:3000
                      });
                }
                
            }
        })
    }

</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
function removeWishItem(prod_id){
  var data = { 'prodId' : prod_id }	
console.log('data of remove wish item',data)
  Swal.fire({
    title: 'Remove Item?',
    text: "Are you sure want to remove this? You will not be able to revert this..",
    icon: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#3085d6',
    cancelButtonColor: '#d33',
    confirmButtonText: 'Remove Item'
  }).then((result) => {
    if (result.isConfirmed) {
      $.ajax({		
        method: "GET",
        url: "{% url 'remove_wish_item' %}",
        data : data,
        success:function(response){
      console.log('removed successfully')

          Swal.fire(
            'Item removed',
            'Item has been successfully removed from cart.',
            'success'
          )
        location.reload();

        }
      })
     
    }
  })
}
</script>

{% endblock %}
<!-- deletewishlist -->